<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elora.AI - Advanced AI Assistant</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
    tailwind.config = {
        theme: {
            extend: {
                fontFamily: {
                    'inter': ['Inter', 'sans-serif']
                },
                colors: {
                    'elora-blue': '#3B82F6',
                    'elora-indigo': '#6366F1', 
                    'elora-purple': '#8B5CF6',
                    'elora-emerald': '#10B981'
                },
                animation: {
                    'slide-in-right': 'slideInRight 0.3s ease-out',
                    'slide-out-left': 'slideOutLeft 0.3s ease-out',
                    'fade-in': 'fadeIn 0.2s ease-out',
                    'bounce-soft': 'bounceSoft 0.6s ease-out',
                    'pulse-glow': 'pulseGlow 2s ease-in-out infinite',
                    'typing': 'typing 1.5s steps(3, end) infinite'
                },
                keyframes: {
                    slideInRight: {
                        '0%': { transform: 'translateX(100%)', opacity: '0' },
                        '100%': { transform: 'translateX(0)', opacity: '1' }
                    },
                    slideOutLeft: {
                        '0%': { transform: 'translateX(0)', opacity: '1' },
                        '100%': { transform: 'translateX(-100%)', opacity: '0' }
                    },
                    fadeIn: {
                        '0%': { opacity: '0' },
                        '100%': { opacity: '1' }
                    },
                    bounceSoft: {
                        '0%, 20%, 53%, 80%, 100%': { transform: 'translate3d(0,0,0)' },
                        '40%, 43%': { transform: 'translate3d(0, -5px, 0)' },
                        '70%': { transform: 'translate3d(0, -2px, 0)' },
                        '90%': { transform: 'translate3d(0, -1px, 0)' }
                    },
                    pulseGlow: {
                        '0%, 100%': { boxShadow: '0 0 20px rgba(59, 130, 246, 0.3)' },
                        '50%': { boxShadow: '0 0 40px rgba(59, 130, 246, 0.6)' }
                    },
                    typing: {
                        '0%': { content: '.' },
                        '33%': { content: '..' },
                        '66%': { content: '...' }
                    }
                }
            }
        }
    };
    </script>
    <style>
        .sidebar-transition {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .glassmorphism {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .dark .glassmorphism {
            background: rgba(15, 23, 42, 0.8);
            border: 1px solid rgba(51, 65, 85, 0.3);
        }

        .typing-indicator::after {
            content: '';
            animation: typing 1.5s steps(3, end) infinite;
        }

        /* Custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 6px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background: rgb(148 163 184 / 0.3);
            border-radius: 3px;
        }
        
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background: rgb(148 163 184 / 0.5);
        }

        /* File upload area styles */
        .file-drop-zone {
            border: 2px dashed #94a3b8;
            transition: all 0.3s ease;
        }
        
        .file-drop-zone.drag-over {
            border-color: #3b82f6;
            background-color: rgba(59, 130, 246, 0.05);
        }
    </style>
</head>

<!-- @COMPONENT: App [Main application container with theme and auth state] -->
<body class="font-inter bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100 transition-colors duration-300">
    
    <!-- @COMPONENT: AuthModal [Login/Signup modal overlay] -->
    <div id="auth-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm hidden">
        <div class="glassmorphism w-full max-w-md mx-4 rounded-2xl p-8 shadow-2xl">
            <div class="text-center mb-8">
                <!-- Elora.AI Logo -->
                <div class="flex items-center justify-center mb-4">
                    <div class="w-16 h-16 bg-gradient-to-br from-elora-blue to-elora-purple rounded-xl flex items-center justify-center shadow-lg">
                        <i class="fas fa-brain text-2xl text-white"></i>
                    </div>
                </div>
                <h2 class="text-2xl font-bold text-slate-900 dark:text-white">Elora.AI</h2>
                <p class="text-slate-600 dark:text-slate-400 text-sm">Your Advanced AI Assistant</p>
            </div>

            <!-- Login/Signup Toggle -->
            <div class="flex bg-slate-200 dark:bg-slate-700 rounded-lg p-1 mb-6">
                <button id="login-tab" class="flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all bg-white dark:bg-slate-600 text-slate-900 dark:text-white shadow-sm">
                    Login
                </button>
                <button id="signup-tab" class="flex-1 py-2 px-4 rounded-md text-sm font-medium transition-all text-slate-600 dark:text-slate-400">
                    Sign Up
                </button>
            </div>

            <!-- Login Form -->
            <form id="login-form" class="space-y-4">
                <div>
                    <label class="block text-sm font-medium mb-2">Email</label>
                    <input type="email" required 
                        class="w-full px-4 py-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-elora-blue focus:border-transparent transition-all"
                        placeholder="Enter your email">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Password</label>
                    <input type="password" required 
                        class="w-full px-4 py-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-elora-blue focus:border-transparent transition-all"
                        placeholder="Enter your password">
                </div>
                <button type="submit" 
                    class="w-full py-3 bg-gradient-to-r from-elora-blue to-elora-indigo text-white font-medium rounded-lg hover:shadow-lg transform hover:scale-105 transition-all duration-200">
                    Sign In
                </button>
            </form>

            <!-- Signup Form (Hidden by default) -->
            <form id="signup-form" class="space-y-4 hidden">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">First Name</label>
                        <input type="text" required 
                            class="w-full px-4 py-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-elora-blue focus:border-transparent transition-all"
                            placeholder="First name">
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Last Name</label>
                        <input type="text" required 
                            class="w-full px-4 py-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-elora-blue focus:border-transparent transition-all"
                            placeholder="Last name">
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Email</label>
                    <input type="email" required 
                        class="w-full px-4 py-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-elora-blue focus:border-transparent transition-all"
                        placeholder="Enter your email">
                </div>
                <div>
                    <label class="block text-sm font-medium mb-2">Password</label>
                    <input type="password" required 
                        class="w-full px-4 py-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-elora-blue focus:border-transparent transition-all"
                        placeholder="Create password (min. 8 characters)">
                </div>
                <button type="submit" 
                    class="w-full py-3 bg-gradient-to-r from-elora-purple to-elora-indigo text-white font-medium rounded-lg hover:shadow-lg transform hover:scale-105 transition-all duration-200">
                    Create Account
                </button>
            </form>

            <!-- Divider -->
            <div class="flex items-center my-6">
                <hr class="flex-1 border-slate-300 dark:border-slate-600">
                <span class="px-3 text-sm text-slate-500">or</span>
                <hr class="flex-1 border-slate-300 dark:border-slate-600">
            </div>

            <!-- Google Sign In -->
            <button id="google-signin" 
                class="w-full py-3 bg-white dark:bg-slate-700 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-white font-medium rounded-lg hover:bg-slate-50 dark:hover:bg-slate-600 transition-all duration-200 flex items-center justify-center gap-3">
                <img src="https://developers.google.com/identity/images/g-logo.png" alt="Google" class="w-5 h-5">
                Continue with Google
            </button>

            <button id="close-auth-modal" class="absolute top-4 right-4 p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors">
                <i class="fas fa-times text-slate-500"></i>
            </button>
        </div>
    </div>
    <!-- @END_COMPONENT: AuthModal -->

    <!-- @COMPONENT: MainLayout [Main application layout with sidebar and content] -->
    <div class="flex h-screen overflow-hidden">
        
        <!-- @COMPONENT: Sidebar [Collapsible chat history and navigation] -->
        <div id="sidebar" class="sidebar-transition bg-white dark:bg-slate-800 border-r border-slate-200 dark:border-slate-700 flex flex-col w-72 shadow-xl">
            <!-- Sidebar Header -->
            <div class="flex items-center justify-between p-4 border-b border-slate-200 dark:border-slate-700">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-elora-blue to-elora-purple rounded-xl flex items-center justify-center">
                        <i class="fas fa-brain text-white text-lg"></i>
                    </div>
                    <div id="sidebar-text">
                        <h1 class="text-lg font-bold text-slate-900 dark:text-white">Elora.AI</h1>
                        <p class="text-xs text-slate-500">Advanced Assistant</p>
                    </div>
                </div>
                <button id="sidebar-toggle" class="p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors">
                    <i class="fas fa-chevron-left text-slate-500"></i>
                </button>
            </div>

            <!-- New Chat Button -->
            <div class="p-4">
                <button id="new-chat" class="w-full bg-gradient-to-r from-elora-blue to-elora-indigo text-white px-4 py-3 rounded-lg font-medium hover:shadow-lg transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2">
                    <i class="fas fa-plus"></i>
                    <span id="new-chat-text">New Chat</span>
                </button>
            </div>

            <!-- Chat History -->
            <div class="flex-1 overflow-y-auto custom-scrollbar px-4">
                <div class="space-y-2">
                    <!-- @MAP: chatHistory.map(chat => ( -->
                    <div class="group p-3 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg cursor-pointer transition-colors duration-200 relative" data-mock="true">
                        <div class="flex items-start gap-3">
                            <div class="w-2 h-2 bg-elora-blue rounded-full mt-2 flex-shrink-0"></div>
                            <div class="flex-1 min-w-0">
                                <p class="font-medium text-sm truncate">Advanced Image Analysis</p>
                                <p class="text-xs text-slate-500 truncate">Can you analyze this neural network diagram...</p>
                                <p class="text-xs text-slate-400 mt-1">2 hours ago</p>
                            </div>
                        </div>
                        <button class="absolute right-2 top-2 opacity-0 group-hover:opacity-100 p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-all">
                            <i class="fas fa-ellipsis-h text-xs text-slate-500"></i>
                        </button>
                    </div>

                    <div class="group p-3 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg cursor-pointer transition-colors duration-200 relative" data-mock="true">
                        <div class="flex items-start gap-3">
                            <div class="w-2 h-2 bg-elora-purple rounded-full mt-2 flex-shrink-0"></div>
                            <div class="flex-1 min-w-0">
                                <p class="font-medium text-sm truncate">Code Review & Optimization</p>
                                <p class="text-xs text-slate-500 truncate">Please review this Python script for...</p>
                                <p class="text-xs text-slate-400 mt-1">Yesterday</p>
                            </div>
                        </div>
                        <button class="absolute right-2 top-2 opacity-0 group-hover:opacity-100 p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-all">
                            <i class="fas fa-ellipsis-h text-xs text-slate-500"></i>
                        </button>
                    </div>

                    <div class="group p-3 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg cursor-pointer transition-colors duration-200 relative" data-mock="true">
                        <div class="flex items-start gap-3">
                            <div class="w-2 h-2 bg-elora-emerald rounded-full mt-2 flex-shrink-0"></div>
                            <div class="flex-1 min-w-0">
                                <p class="font-medium text-sm truncate">Data Visualization Project</p>
                                <p class="text-xs text-slate-500 truncate">Create a dashboard for sales analytics...</p>
                                <p class="text-xs text-slate-400 mt-1">3 days ago</p>
                            </div>
                        </div>
                        <button class="absolute right-2 top-2 opacity-0 group-hover:opacity-100 p-1 hover:bg-slate-200 dark:hover:bg-slate-600 rounded transition-all">
                            <i class="fas fa-ellipsis-h text-xs text-slate-500"></i>
                        </button>
                    </div>
                    <!-- @END_MAP )) -->
                </div>
            </div>

            <!-- Sidebar Footer -->
            <div class="p-4 border-t border-slate-200 dark:border-slate-700">
                <div class="flex items-center gap-3 mb-4">
                    <div class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium" data-mock="true">
                        JD
                    </div>
                    <div class="flex-1" id="user-info">
                        <p class="text-sm font-medium" data-bind="user.name" data-mock="true">John Doe</p>
                        <p class="text-xs text-slate-500" data-bind="user.email" data-mock="true">john@example.com</p>
                    </div>
                </div>
                
                <div class="flex items-center justify-between">
                    <button id="theme-toggle" class="p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors">
                        <i class="fas fa-moon dark:fa-sun text-slate-500"></i>
                    </button>
                    <button id="settings-btn" class="p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors">
                        <i class="fas fa-cog text-slate-500"></i>
                    </button>
                    <button id="logout-btn" class="p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors">
                        <i class="fas fa-sign-out-alt text-slate-500"></i>
                    </button>
                </div>
            </div>
        </div>
        <!-- @END_COMPONENT: Sidebar -->

        <!-- @COMPONENT: MainContent [Chat interface and controls] -->
        <div class="flex-1 flex flex-col bg-slate-50 dark:bg-slate-900">
            
            <!-- @COMPONENT: TopBar [Header with model selection and user controls] -->
            <div class="bg-white dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700 px-6 py-4 flex items-center justify-between shadow-sm">
                <div class="flex items-center gap-4">
                    <button id="mobile-sidebar-toggle" class="lg:hidden p-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg transition-colors">
                        <i class="fas fa-bars text-slate-600 dark:text-slate-400"></i>
                    </button>
                    
                    <!-- AI Model Selector -->
                    <div class="flex items-center gap-3">
                        <label class="text-sm font-medium text-slate-700 dark:text-slate-300">Model:</label>
                        <select id="model-selector" class="bg-slate-100 dark:bg-slate-700 border border-slate-300 dark:border-slate-600 rounded-lg px-3 py-2 text-sm font-medium focus:ring-2 focus:ring-elora-blue focus:border-transparent">
                            <option value="gemini-2.5-flash" data-mock="true">Gemini 2.5 Flash</option>
                            <option value="gpt-4-turbo" data-mock="true">GPT-4 Turbo</option>
                            <option value="claude-3-opus" data-mock="true">Claude 3 Opus</option>
                            <option value="llama-3-70b" data-mock="true">Llama 3 70B</option>
                        </select>
                    </div>
                </div>

                <div class="flex items-center gap-3">
                    <!-- Usage Statistics -->
                    <div class="text-sm text-slate-500 dark:text-slate-400" data-mock="true">
                        <span data-bind="usage.tokens">2.5K</span> tokens used today
                    </div>
                    
                    <!-- User Avatar -->
                    <button class="w-8 h-8 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium" data-mock="true">
                        JD
                    </button>
                </div>
            </div>
            <!-- @END_COMPONENT: TopBar -->

            <!-- @COMPONENT: ChatMessages [Scrollable chat conversation area] -->
            <div id="chat-container" class="flex-1 overflow-y-auto custom-scrollbar">
                <div class="max-w-4xl mx-auto px-6 py-8">
                    
                    <!-- Welcome Message -->
                    <div class="text-center mb-12">
                        <div class="w-16 h-16 bg-gradient-to-br from-elora-blue to-elora-purple rounded-2xl flex items-center justify-center mx-auto mb-4 animate-pulse-glow">
                            <i class="fas fa-brain text-2xl text-white"></i>
                        </div>
                        <h2 class="text-2xl font-bold mb-2">Welcome to Elora.AI</h2>
                        <p class="text-slate-600 dark:text-slate-400">Your advanced AI assistant capable of text, image, video generation, code analysis, and more.</p>
                    </div>

                    <!-- Sample Conversation -->
                    <div class="space-y-6">
                        
                        <!-- User Message -->
                        <div class="flex justify-end" data-mock="true">
                            <div class="max-w-2xl">
                                <div class="bg-gradient-to-r from-elora-blue to-elora-indigo text-white rounded-2xl rounded-br-md px-6 py-4 shadow-lg">
                                    <p class="font-medium">Can you analyze this neural network architecture and suggest optimizations?</p>
                                    <div class="mt-3 p-3 bg-white/10 rounded-lg">
                                        <div class="flex items-center gap-2 mb-2">
                                            <i class="fas fa-image text-blue-200"></i>
                                            <span class="text-sm text-blue-200">neural_network_diagram.png</span>
                                        </div>
                                        <!-- Neural network diagram with glowing connections -->
                                        <img src="https://pixabay.com/get/gd9e7ba2a7eb221f6cebc557300db8998c7fdf0db5fe99c65e8e3529345a0918ad7f602995b1daa7fe3680a04a235dab50b079dc02ce71650ca51dd894e2c5083_1280.jpg" 
                                             alt="Neural network visualization with interconnected nodes" 
                                             class="rounded-lg w-full h-32 object-cover">
                                    </div>
                                </div>
                                <div class="flex items-center justify-end gap-2 mt-2 text-xs text-slate-500">
                                    <span>Just now</span>
                                    <i class="fas fa-check-double text-elora-blue"></i>
                                </div>
                            </div>
                        </div>

                        <!-- AI Response with Analysis -->
                        <div class="flex justify-start" data-mock="true">
                            <div class="max-w-2xl">
                                <div class="bg-white dark:bg-slate-800 rounded-2xl rounded-bl-md px-6 py-4 shadow-lg border border-slate-200 dark:border-slate-700">
                                    <div class="flex items-center gap-2 mb-4">
                                        <div class="w-6 h-6 bg-gradient-to-br from-elora-purple to-elora-indigo rounded-lg flex items-center justify-center">
                                            <i class="fas fa-brain text-xs text-white"></i>
                                        </div>
                                        <span class="font-medium text-sm">Elora.AI</span>
                                        <button class="ml-auto p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded transition-colors">
                                            <i class="fas fa-volume-up text-sm text-slate-500"></i>
                                        </button>
                                    </div>
                                    
                                    <div class="prose dark:prose-invert max-w-none">
                                        <h3 class="text-lg font-semibold mb-3">Neural Network Architecture Analysis</h3>
                                        
                                        <p class="mb-4">I've analyzed your neural network diagram and identified several optimization opportunities:</p>
                                        
                                        <div class="bg-slate-50 dark:bg-slate-900 rounded-lg p-4 mb-4">
                                            <h4 class="font-medium mb-2 text-elora-blue">Key Findings:</h4>
                                            <ul class="space-y-2 text-sm">
                                                <li class="flex items-start gap-2">
                                                    <i class="fas fa-check-circle text-elora-emerald mt-0.5"></i>
                                                    <span>Current architecture shows a deep feedforward network with 5 hidden layers</span>
                                                </li>
                                                <li class="flex items-start gap-2">
                                                    <i class="fas fa-exclamation-triangle text-amber-500 mt-0.5"></i>
                                                    <span>Potential bottleneck identified in layer 3 with limited connections</span>
                                                </li>
                                                <li class="flex items-start gap-2">
                                                    <i class="fas fa-lightbulb text-elora-purple mt-0.5"></i>
                                                    <span>Skip connections could improve gradient flow</span>
                                                </li>
                                            </ul>
                                        </div>

                                        <!-- Generated Optimization Chart -->
                                        <div class="bg-white dark:bg-slate-800 rounded-lg p-4 border border-slate-200 dark:border-slate-700 mb-4">
                                            <h4 class="font-medium mb-3">Performance Optimization Recommendations</h4>
                                            <!-- Sample chart visualization -->
                                            <div class="h-32 bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg flex items-center justify-center">
                                                <div class="text-center">
                                                    <i class="fas fa-chart-line text-2xl text-elora-blue mb-2"></i>
                                                    <p class="text-sm text-slate-600 dark:text-slate-400">Interactive Performance Chart</p>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4">
                                            <h4 class="font-medium text-elora-blue mb-2">Recommended Changes:</h4>
                                            <ol class="list-decimal list-inside space-y-1 text-sm">
                                                <li>Add residual connections between layers 2-4</li>
                                                <li>Implement dropout (0.2-0.3) for regularization</li>
                                                <li>Consider batch normalization after each hidden layer</li>
                                                <li>Reduce neurons in layer 3 from 512 to 256 for efficiency</li>
                                            </ol>
                                        </div>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between mt-2 text-xs text-slate-500">
                                    <div class="flex items-center gap-3">
                                        <span>Gemini 2.5 Flash</span>
                                        <span>â€¢</span>
                                        <span>2.3s response time</span>
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <button class="p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded transition-colors">
                                            <i class="fas fa-copy"></i>
                                        </button>
                                        <button class="p-1 hover:bg-slate-100 dark:hover:bg-slate-700 rounded transition-colors">
                                            <i class="fas fa-share"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Typing Indicator (hidden by default) -->
                        <div id="typing-indicator" class="flex justify-start hidden">
                            <div class="bg-white dark:bg-slate-800 rounded-2xl rounded-bl-md px-6 py-4 shadow-lg border border-slate-200 dark:border-slate-700">
                                <div class="flex items-center gap-3">
                                    <div class="w-6 h-6 bg-gradient-to-br from-elora-purple to-elora-indigo rounded-lg flex items-center justify-center">
                                        <i class="fas fa-brain text-xs text-white"></i>
                                    </div>
                                    <div class="flex items-center gap-1">
                                        <div class="w-2 h-2 bg-slate-400 rounded-full animate-bounce"></div>
                                        <div class="w-2 h-2 bg-slate-400 rounded-full animate-bounce" style="animation-delay: 0.1s;"></div>
                                        <div class="w-2 h-2 bg-slate-400 rounded-full animate-bounce" style="animation-delay: 0.2s;"></div>
                                    </div>
                                    <span class="text-sm text-slate-500">Elora is thinking...</span>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: ChatMessages -->

            <!-- @COMPONENT: InputArea [Message composition and file upload] -->
            <div class="bg-white dark:bg-slate-800 border-t border-slate-200 dark:border-slate-700 px-6 py-4">
                <div class="max-w-4xl mx-auto">
                    
                    <!-- File Upload Area (Hidden by default) -->
                    <div id="file-upload-area" class="mb-4 hidden">
                        <div class="file-drop-zone rounded-xl p-6 text-center">
                            <i class="fas fa-cloud-upload-alt text-3xl text-slate-400 mb-3"></i>
                            <p class="text-slate-600 dark:text-slate-400 mb-2">Drop files here or click to browse</p>
                            <p class="text-xs text-slate-500">Supports PDF, DOCX, images, videos, code files and more</p>
                            <input type="file" id="file-input" class="hidden" multiple accept="*">
                        </div>
                        
                        <!-- Selected Files Preview -->
                        <div id="selected-files" class="mt-3 flex flex-wrap gap-2">
                            <!-- File tags will be inserted here dynamically -->
                        </div>
                    </div>

                    <!-- Message Input Container -->
                    <div class="relative bg-slate-100 dark:bg-slate-700 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-600 focus-within:ring-2 focus-within:ring-elora-blue focus-within:border-transparent transition-all">
                        
                        <!-- Input Toolbar -->
                        <div class="flex items-center gap-2 p-3 border-b border-slate-200 dark:border-slate-600">
                            <!-- Voice Input -->
                            <button id="voice-btn" class="p-2 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition-colors group">
                                <i class="fas fa-microphone text-slate-500 group-hover:text-elora-blue"></i>
                            </button>
                            
                            <!-- File Upload -->
                            <button id="attach-btn" class="p-2 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition-colors group">
                                <i class="fas fa-paperclip text-slate-500 group-hover:text-elora-purple"></i>
                            </button>
                            
                            <!-- Image Generation -->
                            <button id="image-gen-btn" class="p-2 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition-colors group">
                                <i class="fas fa-image text-slate-500 group-hover:text-elora-emerald"></i>
                            </button>
                            
                            <!-- Video Generation -->
                            <button id="video-gen-btn" class="p-2 hover:bg-slate-200 dark:hover:bg-slate-600 rounded-lg transition-colors group">
                                <i class="fas fa-video text-slate-500 group-hover:text-amber-500"></i>
                            </button>
                            
                            <div class="flex-1"></div>
                            
                            <!-- Model Status -->
                            <div class="flex items-center gap-2 text-xs">
                                <div class="w-2 h-2 bg-elora-emerald rounded-full animate-pulse"></div>
                                <span class="text-slate-500" data-bind="currentModel">Gemini 2.5</span>
                            </div>
                        </div>

                        <!-- Text Input Area -->
                        <div class="flex items-end gap-3 p-4">
                            <textarea 
                                id="message-input"
                                rows="1"
                                class="flex-1 resize-none bg-transparent text-slate-900 dark:text-white placeholder-slate-500 focus:outline-none min-h-[40px] max-h-[200px]"
                                placeholder="Message Elora.AI... (Press Ctrl+Enter to send)"
                                data-implementation="Auto-resize based on content, handle Ctrl+Enter shortcut"></textarea>
                            
                            <button id="send-btn" class="bg-gradient-to-r from-elora-blue to-elora-indigo text-white p-3 rounded-xl hover:shadow-lg transform hover:scale-105 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none">
                                <i class="fas fa-paper-plane"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="flex items-center justify-center gap-4 mt-4">
                        <button class="text-xs text-slate-500 hover:text-elora-blue transition-colors px-3 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg">
                            <i class="fas fa-chart-bar mr-1"></i>
                            Generate Chart
                        </button>
                        <button class="text-xs text-slate-500 hover:text-elora-purple transition-colors px-3 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg">
                            <i class="fas fa-code mr-1"></i>
                            Code Review
                        </button>
                        <button class="text-xs text-slate-500 hover:text-elora-emerald transition-colors px-3 py-2 hover:bg-slate-100 dark:hover:bg-slate-700 rounded-lg">
                            <i class="fas fa-magic mr-1"></i>
                            Summarize
                        </button>
                    </div>
                </div>
            </div>
            <!-- @END_COMPONENT: InputArea -->
        </div>
        <!-- @END_COMPONENT: MainContent -->

    </div>
    <!-- @END_COMPONENT: MainLayout -->

    <script type="module">
        // Firebase imports
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, createUserWithEmailAndPassword, signInWithEmailAndPassword, signInWithPopup, GoogleAuthProvider, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, onSnapshot, query, orderBy, serverTimestamp, getDocs, deleteDoc, writeBatch } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Application State
        let app, auth, db;
        let currentUser = null;
        let currentChatId = null;
        let isAuthenticated = false;
        let sidebarExpanded = true;
        
        // UI Elements
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.getElementById('sidebar-toggle');
        const sidebarText = document.getElementById('sidebar-text');
        const newChatText = document.getElementById('new-chat-text');
        const authModal = document.getElementById('auth-modal');
        const loginForm = document.getElementById('login-form');
        const signupForm = document.getElementById('signup-form');
        const loginTab = document.getElementById('login-tab');
        const signupTab = document.getElementById('signup-tab');
        const messageInput = document.getElementById('message-input');
        const sendBtn = document.getElementById('send-btn');
        const chatContainer = document.getElementById('chat-container');
        const typingIndicator = document.getElementById('typing-indicator');
        const themeToggle = document.getElementById('theme-toggle');

        // Initialize Firebase (placeholder config)
        const firebaseConfig = {
            // TODO: Add your Firebase configuration
            apiKey: "your-api-key",
            authDomain: "elora-ai.firebaseapp.com",
            projectId: "elora-ai",
            storageBucket: "elora-ai.appspot.com",
            messagingSenderId: "123456789",
            appId: "your-app-id"
        };

        try {
            app = initializeApp(firebaseConfig);
            auth = getAuth(app);
            db = getFirestore(app);
        } catch (error) {
            console.warn('Firebase not configured, running in demo mode');
        }

        // Authentication Event Handlers
        document.getElementById('close-auth-modal').addEventListener('click', () => {
            authModal.classList.add('hidden');
        });

        loginTab.addEventListener('click', () => {
            loginTab.classList.add('bg-white', 'dark:bg-slate-600', 'text-slate-900', 'dark:text-white', 'shadow-sm');
            loginTab.classList.remove('text-slate-600', 'dark:text-slate-400');
            signupTab.classList.remove('bg-white', 'dark:bg-slate-600', 'text-slate-900', 'dark:text-white', 'shadow-sm');
            signupTab.classList.add('text-slate-600', 'dark:text-slate-400');
            loginForm.classList.remove('hidden');
            signupForm.classList.add('hidden');
        });

        signupTab.addEventListener('click', () => {
            signupTab.classList.add('bg-white', 'dark:bg-slate-600', 'text-slate-900', 'dark:text-white', 'shadow-sm');
            signupTab.classList.remove('text-slate-600', 'dark:text-slate-400');
            loginTab.classList.remove('bg-white', 'dark:bg-slate-600', 'text-slate-900', 'dark:text-white', 'shadow-sm');
            loginTab.classList.add('text-slate-600', 'dark:text-slate-400');
            signupForm.classList.remove('hidden');
            loginForm.classList.add('hidden');
        });

        // Sidebar Toggle Functionality
        sidebarToggle.addEventListener('click', () => {
            sidebarExpanded = !sidebarExpanded;
            
            if (sidebarExpanded) {
                sidebar.classList.remove('w-16');
                sidebar.classList.add('w-72');
                sidebarText.classList.remove('hidden');
                newChatText.classList.remove('hidden');
                sidebarToggle.querySelector('i').classList.remove('fa-chevron-right');
                sidebarToggle.querySelector('i').classList.add('fa-chevron-left');
            } else {
                sidebar.classList.remove('w-72');
                sidebar.classList.add('w-16');
                sidebarText.classList.add('hidden');
                newChatText.classList.add('hidden');
                sidebarToggle.querySelector('i').classList.remove('fa-chevron-left');
                sidebarToggle.querySelector('i').classList.add('fa-chevron-right');
            }
        });

        // Theme Toggle
        themeToggle.addEventListener('click', () => {
            document.documentElement.classList.toggle('dark');
            const isDark = document.documentElement.classList.contains('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });

        // Load saved theme
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark' || (!savedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        }

        // Message Input Auto-resize
        messageInput.addEventListener('input', () => {
            messageInput.style.height = 'auto';
            messageInput.style.height = messageInput.scrollHeight + 'px';
        });

        // Send Message Functionality
        async function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;

            // TODO: Implement message sending logic
            // This would integrate with OpenRouter/Gemini APIs
            console.log('Sending message:', message);
            
            // Clear input
            messageInput.value = '';
            messageInput.style.height = 'auto';

            // Show typing indicator
            showTypingIndicator();

            // Simulate AI response delay
            setTimeout(() => {
                hideTypingIndicator();
                // TODO: Add AI response to chat
            }, 2000);
        }

        function showTypingIndicator() {
            typingIndicator.classList.remove('hidden');
            chatContainer.scrollTo({ top: chatContainer.scrollHeight, behavior: 'smooth' });
        }

        function hideTypingIndicator() {
            typingIndicator.classList.add('hidden');
        }

        sendBtn.addEventListener('click', sendMessage);
        
        messageInput.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'Enter') {
                e.preventDefault();
                sendMessage();
            }
        });

        // File Upload Handlers
        document.getElementById('attach-btn').addEventListener('click', () => {
            const fileUploadArea = document.getElementById('file-upload-area');
            fileUploadArea.classList.toggle('hidden');
        });

        document.getElementById('file-input').addEventListener('change', (e) => {
            const files = Array.from(e.target.files);
            // TODO: Handle file uploads
            console.log('Files selected:', files);
        });

        // Voice Input Handler
        document.getElementById('voice-btn').addEventListener('click', () => {
            // TODO: Implement speech recognition
            console.log('Voice input requested');
        });

        // Show authentication modal if not authenticated
        if (!isAuthenticated) {
            authModal.classList.remove('hidden');
        }

        // API Integration Functions
        async function callGemini(message, apiKey) {
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
            
            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{ text: message }]
                        }]
                    })
                });

                const data = await response.json();
                return data.candidates?.[0]?.content?.parts?.[0]?.text || 'No response';
            } catch (error) {
                console.error('Gemini API error:', error);
                throw error;
            }
        }

        async function callOpenRouter(message, model, apiKey) {
            const apiUrl = 'https://openrouter.ai/api/v1/chat/completions';
            
            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${apiKey}`,
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        model: model,
                        messages: [{ role: 'user', content: message }]
                    })
                });

                const data = await response.json();
                return data.choices?.[0]?.message?.content || 'No response';
            } catch (error) {
                console.error('OpenRouter API error:', error);
                throw error;
            }
        }

        // TODO: Implement additional features
        // - Chat history management
        // - File processing for different formats
        // - Video/image generation
        // - Text-to-speech functionality
        // - Graph generation
        // - Advanced AI response formatting

        console.log('Elora.AI initialized successfully');
    </script>

</body>
<!-- @END_COMPONENT: App -->
</html>